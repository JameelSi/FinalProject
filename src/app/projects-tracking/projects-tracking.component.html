<mat-toolbar class="mat-elevation-z8">
    <span>Responsive side navigation</span>
    <span class="spacer"></span>
    <button mat-icon-button *ngIf="sidenav.mode === 'over'" (click)="sidenav.toggle()">
        <mat-icon *ngIf="!sidenav.opened">
            menu
        </mat-icon>
        <mat-icon *ngIf="sidenav.opened">
            close
        </mat-icon>
    </button>

</mat-toolbar>

<mat-drawer-container>
    <mat-drawer #sidenav mode="side" position="end">
        <h4 class="title">רכזי אזור</h4>

        <mat-divider></mat-divider>
        <mat-accordion>
            <mat-expansion-panel class="menu-button" hideToggle (opened)="getData('all')" expanded>
                <mat-expansion-panel-header>
                    <mat-panel-title class="exp-title">
                        <!-- <button mat-button class="menu-button" (click)="getData('all')"> -->
                        <!-- <mat-icon>home</mat-icon> -->
                        <span>כל השכונות</span>
                    </mat-panel-title>
                </mat-expansion-panel-header>
            </mat-expansion-panel>

            <!-- </button> -->
            <!-- <ng-container *ngFor='let item of areaCoords | keyvalue'> -->
            <!-- <button mat-button class="menu-button" (click)="getData(item.key)"> -->
            <!-- <mat-icon>home</mat-icon> -->
            <mat-expansion-panel class="menu-button" hideToggle (click)="getData(item)"
                *ngFor='let item of areaCoords'>
                <mat-expansion-panel-header>
                    <mat-panel-title class="exp-title">
                        <span>{{item.name}}</span>
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <!-- <div class="details"> -->
                <ng-template matExpansionPanelContent class="details">
                    {{item.phone}}:פלאפון
                    {{item.email}}:מייל
                </ng-template>
                <!-- </div> -->
            </mat-expansion-panel>
        </mat-accordion>

        <!-- </button> -->
        <!-- </ng-container> -->
    </mat-drawer>
    <mat-drawer-content>
        <mat-tab-group mat-align-tabs="end" [selectedIndex]="defaultSelectedTab"
            (selectedTabChange)="setProjects($event)">
            <ng-container *ngFor='let item of currNeighborhoods'>
                <mat-tab label="{{item.id}}">
                    <ng-template matTabContent>

                        <!-- <div class="mngr-details">
                            {{managers[item.value.managerId].name}}
                            <mat-divider></mat-divider>
                            {{managers[item.value.managerId].email}}
                            <mat-divider></mat-divider>
                            {{managers[item.value.managerId].phone}}
                        </div> -->
                        
                        <!-- <mat-form-field>
                            <mat-label>Filter</mat-label>
                            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
                        </mat-form-field> -->
                        
                        <button mat-button (click)="openDialog('Add',{})" mat-flat-button color="primary">Add
                            Row</button>

                        <mat-table class="lessons-table mat-elevation-z8" [dataSource]="projectsToDisplay" matSort>

                            <ng-container matColumnDef="date">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Date</mat-header-cell>
                                <mat-cell *matCellDef="let project">{{project.date.toDate()  | date: 'dd MMM YY hh:mm'}}</mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="clubCoordinatorId">
                                <mat-header-cell *matHeaderCellDef mat-sort-header>Club</mat-header-cell>
                                <mat-cell class="description-cell" *matCellDef="let project">
                                    {{project.clubInfo?.club}}
                                </mat-cell>

                            </ng-container>

                            <ng-container matColumnDef="projectType">
                                <mat-header-cell *matHeaderCellDef>Project Type</mat-header-cell>
                                <mat-cell class="duration-cell" *matCellDef="let project">{{project.projectType}}
                                </mat-cell>
                            </ng-container>

                            <ng-container matColumnDef="comments">
                                <mat-header-cell *matHeaderCellDef>Comments</mat-header-cell>
                                <mat-cell class="duration-cell" *matCellDef="let project">{{project.comments}}
                                </mat-cell>
                            </ng-container>

                            <!-- Action Column -->
                            <ng-container matColumnDef="action">
                                <mat-header-cell *matHeaderCellDef> Action </mat-header-cell>
                                <mat-cell *matCellDef="let element" class="action-link">
                                    <a (click)="openDialog('Update',element)">Edit</a> &nbsp;|&nbsp;
                                    <a (click)="openDialog('Delete',element)">Delete</a>
                                </mat-cell>
                            </ng-container>

                            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>

                            <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

                        </mat-table>
                        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                    </ng-template>
                </mat-tab>
            </ng-container>
        </mat-tab-group>

    </mat-drawer-content>
</mat-drawer-container>